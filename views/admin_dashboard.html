<!--
    Team: Step 3
    Authors: Paul Woods, Stewart Lovell, and Jasmine David
    SDEV 328: Final Project
    File: admin_dashboard.html

    Description: Admin Dashboard page
-->

<include href="views/header.html" with="title='Admin - Dashboard'"></include>

<!---
       NOTES:
       * not sure what other stats to feature on Admin Dashboard Stats??? - stats are hardcoded in, need to change to actual
         database stats later
       * admin menu looks messed up on mobile because of fixed position - not sure how to fix this...
       * the charts need actual data from the database - added a "to-do" in the places where we need to insert
         the data for the charts
       * script for the chart is currently inline (will put code in separate file when we're done testing)
--->

<div class="container my-5 w-50">
    <!--- Admin Dashboard -->
    <div class="row">
        <h1 class="text-center mb-5 col-12"><b>Admin <br>Dashboard</b></h1>
    </div>
</div>

<div class="container mb-5 px-5">
    <div class="row mx-5">
        <!-- Admin Menu - position-fixed, scrolls with page / looks messed up on mobile due to this? -->
        <div class="col-12 col-md-2 mx-auto ">
            <div class="row position-fixed rounded-2 shadow p-4 text-center border border-light rounded-5">

                <div class="h-100">
                    <h5 style="font-family: Courier New, monospace;">Menu</h5>
                    <hr class="my-2">
                    <h6><a style="letter-spacing: .1rem;" href="admin_dashboard" class="active no_underline p-2">Dashboard</a></h6>
                    <h6><a style="letter-spacing: .1rem;" href="admin_members" class="no_underline p-2">Members</a></h6>
                </div>
            </div>
        </div>

        <!-- Admin Dashboard Stats -->
        <div class="col-12 col-md-10 px-0 px-md-5">
            <div class="row text-center p-0 p-md-3 shadow rounded-2 border-secondary">
                <div class="col-md-3 col-12 px-3">
                    <h5><b>Total Members</b></h5>
                    <p>1,298,0292</p>
                </div>
                <div class="col-md-3 col-12 px-3">
                    <h5><b>Total Revenue</b></h5>
                    <p>$4,000,000.00</p>
                </div>
                <div class="col-md-3 col-12 px-3">
                    <h5><b>Something</b></h5>
                    <p>???</p>
                </div>
                <div class="col-md-3 col-12 px-3">
                    <h5><b>Something</b></h5>
                    <p>???</p>
                </div>
            </div>

            <!-- Admin Dashboard Chart -->
            <div class="row mt-3">
                <div class="col-12 text-center p-3 rounded-2 shadow border-secondary">
                    <!-- google chart script -->
                    <script src="https://www.gstatic.com/charts/loader.js"></script>
                    <div class="col-12 my-3">
                        <!-- admin dashboard chart buttons - toggles through diff charts-->
                        <input class="admin-buttons btn btn-primary" type='button' id='b1' value='Members' />
                        <input style="max-width: 8em" class="admin-buttons btn btn-primary mx-auto" type='button' id='b4' value='New Members' />
                        <input class="admin-buttons btn btn-primary" type='button' id='b2' value='Visits' />
                        <input class="admin-buttons btn btn-primary" type='button' id='b3' value='Revenue' />
                    </div>
                    <!-- admin dashboard chart -->
                    <div class="img-responsive mx-auto" id="globogym_chart" style="height:400px;width:100%;max-width:700px"></div>


                    <!-- admin dashboard chart script -->
                    <script>
                        google.charts.load('current', {
                            packages: ['corechart']
                        }).then(function() {
                            var memberButton = document.getElementById('b1');
                            var visitButton = document.getElementById('b2');
                            var revenueButton = document.getElementById('b3');
                            var newMemberButton = document.getElementById('b4');



                            // switch to total members chart when clicked
                            memberButton.onclick = function() {
                                drawMemberChart('LineChart');
                            }

                            // switch to total new members chart when clicked
                            newMemberButton.onclick = function() {
                                drawNewMemberChart('ColumnChart');
                            }

                            // switch to total visits chart when clicked
                            visitButton.onclick = function() {
                                drawVisitsChart('LineChart');
                            }

                            // switch to total revenue chart when clicked
                            revenueButton.onclick = function() {
                                drawRevenueChart('LineChart');
                            }

                            // default/active chart
                            drawMemberChart('LineChart');
                        });

                        // code for member chart
                        function drawMemberChart(chartType) {
                            var chart = new google.visualization.ChartWrapper({
                                containerId: 'globogym_chart'
                            });

                            // chart data -- TODO: need to add database monthly TOTAL MEMBERS data here (put database data in the number, not the month)
                            var data = google.visualization.arrayToDataTable([
                                ['Month', 'Members'],
                                ['Mar',7],['Apr',8],['May',8],['Jun',9],['Jul',9],
                                ['Aug',9],['Sept',10],['Oct',11],
                                ['Nov',14],['Dec',14],['Jan',9],['Feb',10]
                            ]);

                            // chart title/headers and styling
                            var options = {
                                // title
                                title: 'Total Members (last 12 months)',
                                titleTextStyle: {
                                    fontName: 'Arial',
                                    fontSize: 20,
                                    bold: true,
                                    italic: false,
                                },
                                // x axis
                                hAxis: {
                                    title: 'Month',
                                    titleTextStyle: {
                                        italic: false,
                                    },
                                    direction:1,
                                    slantedText:true,
                                    slantedTextAngle:50,
                                },
                                // y axis
                                vAxis: {
                                    title: 'Members',
                                    titleTextStyle: {
                                        italic: false,
                                    },
                                },
                                // line
                                series: {
                                    0: {
                                        color: '#663399',
                                    },
                                },
                                legend: 'none',
                            };

                            chart.setOptions(options);
                            chart.setChartType(chartType);
                            chart.setDataTable(data);
                            chart.draw();
                        }

                        // code for new members chart
                        function drawNewMemberChart(chartType) {
                            var chart = new google.visualization.ChartWrapper({
                                containerId: 'globogym_chart'
                            });

                            // chart data -- TODO: need to add database monthly NEW MEMBERS data here (put database data in the number, not the month)
                            var data = google.visualization.arrayToDataTable([
                                ['Month', 'New Members'],
                                ['Mar',7],['Apr',8],['May',8],['Jun',9],['Jul',9],
                                ['Aug',9],['Sept',10],['Oct',11],
                                ['Nov',14],['Dec',14],['Jan',9],['Feb',10]
                            ]);

                            // chart title/headers and styling
                            var options = {
                                // title
                                title: 'Total New Members (last 12 months)',
                                titleTextStyle: {
                                    fontName: 'Arial',
                                    fontSize: 20,
                                    bold: true,
                                    italic: false,
                                },
                                // x axis
                                hAxis: {
                                    title: 'Month',
                                    titleTextStyle: {
                                        italic: false,
                                    },
                                    direction:1,
                                    slantedText:true,
                                    slantedTextAngle:50,
                                },
                                // y axis
                                vAxis: {
                                    title: 'New Members',
                                    titleTextStyle: {
                                        italic: false,
                                    },
                                },
                                // line
                                series: {
                                    0: {
                                        color: '#663399',
                                    },
                                },
                                legend: 'none',
                            };

                            chart.setOptions(options);
                            chart.setChartType(chartType);
                            chart.setDataTable(data);
                            chart.draw();
                        }

                        // code for visits chart
                        function drawVisitsChart(chartType) {
                            var chart = new google.visualization.ChartWrapper({
                                containerId: 'globogym_chart'
                            });

                            // chart data -- TODO: need to add database monthly TOTAL VISITS data here (put database data in the number, not the month)
                            var data = google.visualization.arrayToDataTable([
                                ['Month', 'Visits'],
                                ['Mar',7],['Apr',8],['May',8],['Jun',9],['Jul',9],
                                ['Aug',9],['Sept',10],['Oct',11],
                                ['Nov',14],['Dec',14],['Jan',9],['Feb',10]
                            ]);

                            // chart title/headers and styling
                            var options = {
                                // title
                                title: 'Total Visits (last 12 months)',
                                titleTextStyle: {
                                    fontName: 'Arial',
                                    fontSize: 20,
                                    bold: true,
                                    italic: false,
                                },
                                // x axis
                                hAxis: {
                                    title: 'Month',
                                    titleTextStyle: {
                                        italic: false,
                                    },
                                    direction:1,
                                    slantedText:true,
                                    slantedTextAngle:50,
                                },
                                // y axis
                                vAxis: {
                                    title: 'Visits',
                                    titleTextStyle: {
                                        italic: false,
                                    },
                                },
                                // line
                                series: {
                                    0: {
                                        color: '#663399',
                                    },
                                },
                                legend: 'none',
                            };

                            chart.setOptions(options);
                            chart.setChartType(chartType);
                            chart.setDataTable(data);
                            chart.draw();
                        }

                        // code for revenue chart
                        function drawRevenueChart(chartType) {
                            var chart = new google.visualization.ChartWrapper({
                                containerId: 'globogym_chart'
                            });

                            // chart data -- TODO: need to add database monthly TOTAL REVENUE data here (put database data in the number, not the month)
                            var data = google.visualization.arrayToDataTable([
                                ['Month', 'Revenue'],
                                ['Mar',4],['Apr',5],['May',7],['Jun',7],['Jul',7],
                                ['Aug',6],['Sept',8],['Oct',8],
                                ['Nov',9],['Dec',10],['Jan',11],['Feb',12]
                            ]);

                            // chart title/headers and styling
                            var options = {
                                // title
                                title: 'Total Revenue (last 12 months)',
                                titleTextStyle: {
                                    fontName: 'Arial',
                                    fontSize: 20,
                                    bold: true,
                                    italic: false,
                                },
                                // x axis
                                hAxis: {
                                    title: 'Month',
                                    titleTextStyle: {
                                        italic: false,
                                    },
                                    direction:1,
                                    slantedText:true,
                                    slantedTextAngle:50,
                                },
                                // y axis
                                vAxis: {
                                    title: 'Revenue',
                                    titleTextStyle: {
                                        italic: false,
                                    },
                                },
                                // line
                                series: {
                                    0: {
                                        color: '#663399',
                                    },
                                },
                                legend: 'none',

                            };

                            chart.setOptions(options);
                            chart.setChartType(chartType);
                            chart.setDataTable(data);
                            chart.draw();
                        }
                    </script>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- footer -->
<include href="views/footer.html"></include>


</body>
</html>
